import{b as d}from"./chunk-BJE3JKBP.js";import{a as p,b as u,c as h}from"./chunk-2VMXMS7J.js";import{NgClass as y}from"@angular/common";import{input as b}from"@angular/core";import*as i from"@angular/core";var x=["*"],f=class n{ngxClass=b();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=i.\u0275\u0275defineComponent({type:n,selectors:[["shell-section"]],inputs:{ngxClass:[1,"ngxClass"]},ngContentSelectors:x,decls:3,vars:1,consts:[[1,"w-full","flex","flex-col","justify-center","items-center","select-none",3,"ngClass"],[1,"w-full","flex","flex-col","items-center","max-w-6xl","mx-auto","justify-between","md:flex-row"]],template:function(e,r){e&1&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275elementStart(0,"section",0)(1,"div",1),i.\u0275\u0275projection(2),i.\u0275\u0275elementEnd()()),e&2&&i.\u0275\u0275property("ngClass",r.ngxClass())},dependencies:[y],encapsulation:2})};import{HttpHeaders as j}from"@angular/common/http";import{from as S}from"rxjs";import{switchMap as a}from"rxjs/operators";import*as c from"@angular/core";import*as g from"@angular/common/http";import{runInInjectionContext as A}from"@angular/core";import*as s from"@angular/core";var m=class n{constructor(t){this.injector=t}remote;readyPromise;initRemote(){return this.readyPromise||(this.readyPromise=h(this,null,function*(){let t=yield d({remoteName:"auth",exposedModule:"./AuthService"});return this.remote=A(this.injector,()=>new t.AuthService),this.remote})),this.readyPromise}authorizationHeader(t=200,e=10){return h(this,null,function*(){let r=yield this.initRemote(),o,l=0;do{if(o=yield r.authorizationHeader(),o)break;if(l++,l>=e)throw new Error("Auth header not ready after max retries");yield new Promise(w=>setTimeout(w,t))}while(!o);return o})}static \u0275fac=function(e){return new(e||n)(s.\u0275\u0275inject(s.EnvironmentInjector))};static \u0275prov=s.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})};var v=class n{constructor(t,e){this.http=t;this.auth=e}withAuthHeaders(t){return S(this.auth.authorizationHeader()).pipe(a(e=>{let r=new j(u(p({},t?.headers??{}),{Authorization:e}));return[u(p({},t),{headers:r})]}))}get(t,e){return this.withAuthHeaders(e).pipe(a(r=>this.http.get(t,r)))}post(t,e,r){return this.withAuthHeaders(r).pipe(a(o=>this.http.post(t,e,o)))}put(t,e,r){return this.withAuthHeaders(r).pipe(a(o=>this.http.put(t,e,o)))}delete(t,e){return this.withAuthHeaders(e).pipe(a(r=>this.http.delete(t,r)))}static \u0275fac=function(e){return new(e||n)(c.\u0275\u0275inject(g.HttpClient),c.\u0275\u0275inject(m))};static \u0275prov=c.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})};export{v as a,f as b};
