import{b as s}from"./chunk-BJE3JKBP.js";import{a as S,b as A,c as i}from"./chunk-2VMXMS7J.js";import{bootstrapApplication as L}from"@angular/platform-browser";import{provideBrowserGlobalErrorListeners as k,provideZoneChangeDetection as x}from"@angular/core";import{provideRouter as B}from"@angular/router";import{provideFirebaseApp as F,initializeApp as N}from"@angular/fire/app";import{provideAuth as z,getAuth as D}from"@angular/fire/auth";import{inject as P}from"@angular/core";import{HttpHeaders as M}from"@angular/common/http";import{from as H}from"rxjs";import{switchMap as c}from"rxjs/operators";import*as m from"@angular/core";import*as b from"@angular/common/http";import{runInInjectionContext as C}from"@angular/core";import*as p from"@angular/core";var h=class e{constructor(t){this.injector=t}remote;readyPromise;initRemote(){return this.readyPromise||(this.readyPromise=i(this,null,function*(){let t=yield s({remoteName:"auth",exposedModule:"./AuthService"});return this.remote=C(this.injector,()=>new t.AuthService),this.remote})),this.readyPromise}authorizationHeader(t=200,r=10){return i(this,null,function*(){let o=yield this.initRemote(),a,y=0;do{if(a=yield o.authorizationHeader(),a)break;if(y++,y>=r)throw new Error("Auth header not ready after max retries");yield new Promise(T=>setTimeout(T,t))}while(!a);return a})}static \u0275fac=function(r){return new(r||e)(p.\u0275\u0275inject(p.EnvironmentInjector))};static \u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})};var u=class e{constructor(t,r){this.http=t;this.auth=r}withAuthHeaders(t){return H(this.auth.authorizationHeader()).pipe(c(r=>{let o=new M(A(S({},t?.headers??{}),{Authorization:r}));return[A(S({},t),{headers:o})]}))}get(t,r){return this.withAuthHeaders(r).pipe(c(o=>this.http.get(t,o)))}post(t,r,o){return this.withAuthHeaders(o).pipe(c(a=>this.http.post(t,r,a)))}put(t,r,o){return this.withAuthHeaders(o).pipe(c(a=>this.http.put(t,r,a)))}delete(t,r){return this.withAuthHeaders(r).pipe(c(o=>this.http.delete(t,o)))}static \u0275fac=function(r){return new(r||e)(m.\u0275\u0275inject(b.HttpClient),m.\u0275\u0275inject(h))};static \u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})};import{lastValueFrom as w}from"rxjs";import*as g from"@angular/core";var f=class e{http=P(u);baseUrl="http://localhost:8080/mbe-user/api/v1";checker=this.http.get(`${this.baseUrl}/users/check-account-type`);isBusinessAccount(){return i(this,null,function*(){return(yield w(this.checker)).accountType==="BUSINESS"})}isPersonalAccount(){return i(this,null,function*(){return(yield w(this.checker)).accountType==="PERSONAL"})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=g.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})};import{inject as U}from"@angular/core";var E=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",title:"Job Plataform",loadComponent:()=>import("./chunk-5WER6CR2.js").then(e=>e.HomeComponent)},{path:"lk",loadComponent:()=>import("./chunk-IZYGT6E3.js").then(e=>e.ShellComponent),children:[{path:"",pathMatch:"full",redirectTo:"feeds"},{path:"feeds",loadChildren:()=>s("feed","./POSTS_ROUTES").then(e=>e.POSTS_ROUTES)},{path:":username",loadChildren:()=>i(null,null,function*(){return(yield U(f).isBusinessAccount())?s("business","./ME_ROUTES").then(r=>r.ME_ROUTES):s("user","./ME_ROUTES").then(r=>r.ME_ROUTES)})}]},{path:"auth",loadComponent:()=>import("./chunk-3NOSIJHI.js").then(e=>e.EmptyShellComponent),loadChildren:()=>s("auth","./AUTH_ROUTES").then(e=>e.AUTH_ROUTES)}];import{provideHttpClient as _}from"@angular/common/http";var I={providers:[k(),x({eventCoalescing:!0}),B(E),_(),F(()=>N({apiKey:"AIzaSyBx4JaidDuAlJPtIfWGvc6xc7feBKOMz0M",authDomain:"authentication-lkhadma-ma.firebaseapp.com",projectId:"authentication-lkhadma-ma",storageBucket:"authentication-lkhadma-ma.firebasestorage.app",messagingSenderId:"21675652332",appId:"1:21675652332:web:41a32ad4633b0be3a6e1c9",measurementId:"G-SXWBJ45FPY"})),z(()=>D())]};import{RouterOutlet as $}from"@angular/router";function l(e){return i(this,null,function*(){try{let o=(yield(yield fetch("federation.manifest.json")).json())[e];if(!o){console.error(`Failed to load remote styles: No entry found for "${e}"`);return}let a=o.replace("/remoteEntry.json",""),R=(yield(yield fetch(`${a}/styles-manifest.json`)).json()).styles;if(!R){console.error(`Failed to load remote styles: No "styles" found in styles-manifest.json for "${e}"`);return}let j=`${a}/${R}`,v=document.createElement("link");v.rel="stylesheet",v.href=j,document.head.appendChild(v)}catch(t){console.error("Failed to load remote styles:",t)}})}import*as n from"@angular/core";function J(e,t){}var d=class e{ngOnInit(){return i(this,null,function*(){yield l("auth"),yield l("shared"),yield l("feed"),yield l("user")})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["plataform-shell"]],decls:3,vars:0,consts:[["alert",""]],template:function(r,o){r&1&&(n.\u0275\u0275element(0,"router-outlet"),n.\u0275\u0275template(1,J,0,0,"ng-template",null,0,n.\u0275\u0275templateRefExtractor))},dependencies:[$],encapsulation:2})};L(d,I).catch(e=>console.error(e));
